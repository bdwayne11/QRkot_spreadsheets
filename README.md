QRKot
==========

### Описание
Сервис сбора пожертвований на различные целевые проекты для поддержки котиков.

### Проекты

У каждого проекта есть название, описание и сумма, которую планируется собрать. После того, как нужная сумма собрана — проект закрывается.


### Пожертвования
Пользователь может сделать пожертвование и сопроводить его комментарием. Пожертвования вносятся в фонд, а не в конкретный проект. Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который ещё не набрал нужную сумму. Если пожертвование больше нужной суммы или же в фонде нет открытых проектов — оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта все неинвестированные пожертвования автоматически вкладываются в новый проект.


### Пользователи
* Целевые проекты создаются администраторами сайта.
* Зарегистрированные пользователи могут отправлять пожертвования и просматривать список своих пожертвований.
* Любой пользователь может видеть список всех проектов.


### Формирование Google-doc.


Примеры запросов к API, варианты ответов и ошибок приведены в документации проекта, доступной по адресу http://127.0.0.1:8000/docs.


### Технологии 
Стек: Python 3, FastAPI, SQLAlchemy, Alembic, Pydantic, Uvicorn, Google API

### Шаблон наполнения файла cat_charity_fund/.env
```
APP_TITLE=Приложение QRKot
APP_DESCRIPTION=Сервис сбора пожертвований для поддержки котиков.
DATABASE_URL=sqlite+aiosqlite:///./fastapi.db
SECRET=secret
FIRST_SUPERUSER_EMAIL=admin@admin.com
FIRST_SUPERUSER_PASSWORD=admin
# адрес вашего личного гугл-аккаунта
EMAIL=
# данные из JSON-файла с информацией для авторизации приложения в сервисном аккаунте
TYPE="service_account"
PROJECT_ID=
PRIVATE_KEY_ID=
PRIVATE_KEY=
CLIENT_EMAIL=
CLIENT_ID=
AUTH_URI="https://accounts.google.com/o/oauth2/auth"
TOKEN_URI="https://oauth2.googleapis.com/token"
auth_provider_x509_cert_url="https://www.googleapis.com/oauth2/v1/certs"
client_x509_cert_url=
```


#### Запуск проекта

* Клонируйте репозиторий и перейдите в папку проекта:
```
git@github.com:bdwayne11/cat_charity_fund.git
cd cat_charity_fund
```

* Установите и активируйте виртуальное окружение:
```
python -m venv venv && . venv/Scripts/activate
```

* Установите зависимости из файла requirements.txt:
```
python -m pip install --upgrade pip
pip install -r requirements.txt
```

* Запустите проект:

```
uvicorn app.main:app --reload
```

### Автор
Бойко Владислав Юрьевич
